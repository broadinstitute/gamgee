<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Gamgee: build/contrib/htslib/src/htslib/cram/cram_io.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Gamgee
   </div>
   <div id="projectbrief">You miserable little maggot. I&#39;ll stove your head in!</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_371d2a27cd53b254fb0f90b2586bd391.html">build</a></li><li class="navelem"><a class="el" href="dir_4063dd6564ec3c37d3709b2914ec8dad.html">contrib</a></li><li class="navelem"><a class="el" href="dir_0c1f5e410debe5529b9ea1b812521cf3.html">htslib</a></li><li class="navelem"><a class="el" href="dir_98aa2798f64a87525c637bccb32fc902.html">src</a></li><li class="navelem"><a class="el" href="dir_645250765a746eaa4140b894d3781083.html">htslib</a></li><li class="navelem"><a class="el" href="dir_9bc284f7a44b3f9729a5d74846b20f61.html">cram</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cram_io.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;zlib.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &quot;<a class="el" href="cram_8h_source.html">cram/cram.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="os_8h_source.html">cram/os.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="md5_8h_source.html">cram/md5.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="open__trace__file_8h_source.html">cram/open_trace_file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="r_a_n_s__static_8h_source.html">cram/rANS_static.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hfile_8h_source.html">htslib/hfile.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bgzf_8h_source.html">htslib/bgzf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="faidx_8h_source.html">htslib/faidx.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcram__job.html">cram_job</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ade423c8316442ec11ced1e141ba21a69"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ade423c8316442ec11ced1e141ba21a69">RP</a>(...)</td></tr>
<tr class="separator:ade423c8316442ec11ced1e141ba21a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c8052986bc451bfce05baa413f3827"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a80c8052986bc451bfce05baa413f3827">TRIAL_SPAN</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a80c8052986bc451bfce05baa413f3827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61316f7187ce8b24a8fd76573211059"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ad61316f7187ce8b24a8fd76573211059">NTRIALS</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ad61316f7187ce8b24a8fd76573211059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cbe1f7d4536ef1fe57e651bc838711a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a5cbe1f7d4536ef1fe57e651bc838711a">MAXDELTA</a>&#160;&#160;&#160;0.20</td></tr>
<tr class="separator:a5cbe1f7d4536ef1fe57e651bc838711a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0bb9ca63a6752bd398704cb88858b93"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ac0bb9ca63a6752bd398704cb88858b93">MAXFAILS</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ac0bb9ca63a6752bd398704cb88858b93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adfb0b3e6915d4831d8b2ca006c23f126"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#adfb0b3e6915d4831d8b2ca006c23f126">itf8_decode</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, int32_t *val_p)</td></tr>
<tr class="separator:adfb0b3e6915d4831d8b2ca006c23f126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e1723252782e3bf3ebbc99b31e924c2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a9e1723252782e3bf3ebbc99b31e924c2">itf8_encode</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, int32_t val)</td></tr>
<tr class="separator:a9e1723252782e3bf3ebbc99b31e924c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a886b8afd0c9e847aaa7e446c6dae52df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a886b8afd0c9e847aaa7e446c6dae52df">itf8_get</a> (char *cp, int32_t *val_p)</td></tr>
<tr class="separator:a886b8afd0c9e847aaa7e446c6dae52df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a215275f39aae22569862786a007a2be0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a215275f39aae22569862786a007a2be0">itf8_put</a> (char *cp, int32_t val)</td></tr>
<tr class="separator:a215275f39aae22569862786a007a2be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a0656c0639fdd36a26c64849c28c21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a17a0656c0639fdd36a26c64849c28c21">ltf8_put</a> (char *cp, int64_t val)</td></tr>
<tr class="separator:a17a0656c0639fdd36a26c64849c28c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95297d3a08a82a85c4347559e850ecd3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a95297d3a08a82a85c4347559e850ecd3">ltf8_get</a> (char *cp, int64_t *val_p)</td></tr>
<tr class="separator:a95297d3a08a82a85c4347559e850ecd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f924b4a38c76b8c6e9d237aec9f2888"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a6f924b4a38c76b8c6e9d237aec9f2888">ltf8_decode</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, int64_t *val_p)</td></tr>
<tr class="separator:a6f924b4a38c76b8c6e9d237aec9f2888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac01438e9f3ed29695c71ba9f1e0cfa8a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ac01438e9f3ed29695c71ba9f1e0cfa8a">itf8_put_blk</a> (<a class="el" href="structcram__block.html">cram_block</a> *blk, int val)</td></tr>
<tr class="separator:ac01438e9f3ed29695c71ba9f1e0cfa8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab139c7a3268d12d967f17cdca3a5a46"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#aab139c7a3268d12d967f17cdca3a5a46">int32_decode</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, int32_t *val)</td></tr>
<tr class="separator:aab139c7a3268d12d967f17cdca3a5a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affef6927703207550982a19eae7385a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#affef6927703207550982a19eae7385a2">int32_encode</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, int32_t val)</td></tr>
<tr class="separator:affef6927703207550982a19eae7385a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd62fcbc8ab5dbc468802efca76bbc9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#afbd62fcbc8ab5dbc468802efca76bbc9">int32_get</a> (<a class="el" href="structcram__block.html">cram_block</a> *b, int32_t *val)</td></tr>
<tr class="separator:afbd62fcbc8ab5dbc468802efca76bbc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a70b5ded18023f37280f05ee7655d01"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a0a70b5ded18023f37280f05ee7655d01">int32_put</a> (<a class="el" href="structcram__block.html">cram_block</a> *b, int32_t val)</td></tr>
<tr class="separator:a0a70b5ded18023f37280f05ee7655d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7fb83979cfbb2ed1da599a97276f078"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ae7fb83979cfbb2ed1da599a97276f078">zlib_mem_inflate</a> (char *cdata, size_t csize, size_t *size)</td></tr>
<tr class="separator:ae7fb83979cfbb2ed1da599a97276f078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a991dcfd8577ade942c778b3c4ab6c34e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcram__block.html">cram_block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a991dcfd8577ade942c778b3c4ab6c34e">cram_new_block</a> (enum <a class="el" href="cram__structs_8h.html#af9934fb23b7763e058c4dfb074ce9a49">cram_content_type</a> content_type, int content_id)</td></tr>
<tr class="separator:a991dcfd8577ade942c778b3c4ab6c34e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c5bed4f46422941984ff9fd1df735c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcram__block.html">cram_block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a94c5bed4f46422941984ff9fd1df735c">cram_read_block</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd)</td></tr>
<tr class="separator:a94c5bed4f46422941984ff9fd1df735c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6df1c159f4f6d1e80683c5dd4240b35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#af6df1c159f4f6d1e80683c5dd4240b35">cram_write_block</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, <a class="el" href="structcram__block.html">cram_block</a> *b)</td></tr>
<tr class="separator:af6df1c159f4f6d1e80683c5dd4240b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a657954e6b3bd06bc9d75a060ac61d44a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a657954e6b3bd06bc9d75a060ac61d44a">cram_free_block</a> (<a class="el" href="structcram__block.html">cram_block</a> *b)</td></tr>
<tr class="separator:a657954e6b3bd06bc9d75a060ac61d44a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ea795b61f37415c5f4477843310612f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a6ea795b61f37415c5f4477843310612f">cram_uncompress_block</a> (<a class="el" href="structcram__block.html">cram_block</a> *b)</td></tr>
<tr class="separator:a6ea795b61f37415c5f4477843310612f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af860093c9bc436c3ce234151bcf96fd0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#af860093c9bc436c3ce234151bcf96fd0">cram_compress_block</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, <a class="el" href="structcram__block.html">cram_block</a> *b, <a class="el" href="structcram__metrics.html">cram_metrics</a> *metrics, int method, int level)</td></tr>
<tr class="separator:af860093c9bc436c3ce234151bcf96fd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa780a4c38f5e0335659b4facd24b5731"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcram__metrics.html">cram_metrics</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#aa780a4c38f5e0335659b4facd24b5731">cram_new_metrics</a> (void)</td></tr>
<tr class="separator:aa780a4c38f5e0335659b4facd24b5731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0389b197b6549510506f2ba76a5a6563"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a0389b197b6549510506f2ba76a5a6563">cram_block_method2str</a> (enum <a class="el" href="cram__structs_8h.html#aaba757c9ea23fabb284dc002713c30a5">cram_block_method</a> m)</td></tr>
<tr class="separator:a0389b197b6549510506f2ba76a5a6563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55bc783cebc6cfaacb2d11d91f5e27e9"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a55bc783cebc6cfaacb2d11d91f5e27e9">cram_content_type2str</a> (enum <a class="el" href="cram__structs_8h.html#af9934fb23b7763e058c4dfb074ce9a49">cram_content_type</a> t)</td></tr>
<tr class="separator:a55bc783cebc6cfaacb2d11d91f5e27e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82102833acf0b63cb577ea4add95528e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a82102833acf0b63cb577ea4add95528e">paranoid_fclose</a> (FILE *fp)</td></tr>
<tr class="separator:a82102833acf0b63cb577ea4add95528e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e7297234bf3d8d2b0041b049bc3876"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a42e7297234bf3d8d2b0041b049bc3876">refs_free</a> (<a class="el" href="structrefs__t.html">refs_t</a> *r)</td></tr>
<tr class="separator:a42e7297234bf3d8d2b0041b049bc3876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad62ee450679d58544610b24cb8b4d516"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ad62ee450679d58544610b24cb8b4d516">refs2id</a> (<a class="el" href="structrefs__t.html">refs_t</a> *r, <a class="el" href="struct_s_a_m__hdr.html">SAM_hdr</a> *h)</td></tr>
<tr class="separator:ad62ee450679d58544610b24cb8b4d516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5982b7b402e0d135c90a1b9a1a628824"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a5982b7b402e0d135c90a1b9a1a628824">cram_set_header</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, <a class="el" href="struct_s_a_m__hdr.html">SAM_hdr</a> *hdr)</td></tr>
<tr class="separator:a5982b7b402e0d135c90a1b9a1a628824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add486b2211839e9992bf06d7f4d87f34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#add486b2211839e9992bf06d7f4d87f34">expand_cache_path</a> (char *path, char *dir, char *fn)</td></tr>
<tr class="separator:add486b2211839e9992bf06d7f4d87f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a247f19be0a6731622bcc2663df06bac8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a247f19be0a6731622bcc2663df06bac8">mkdir_prefix</a> (char *path, int <a class="el" href="htsfile_8c.html#abc602f962597251d3e57cf3ea95ab19e">mode</a>)</td></tr>
<tr class="separator:a247f19be0a6731622bcc2663df06bac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a135248706e994f9ae382903f2d5b8bfa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a135248706e994f9ae382903f2d5b8bfa">cram_ref_incr</a> (<a class="el" href="structrefs__t.html">refs_t</a> *r, int id)</td></tr>
<tr class="separator:a135248706e994f9ae382903f2d5b8bfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af118c72c7b38f478a2cd13e591f586c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#af118c72c7b38f478a2cd13e591f586c9">cram_ref_decr</a> (<a class="el" href="structrefs__t.html">refs_t</a> *r, int id)</td></tr>
<tr class="separator:af118c72c7b38f478a2cd13e591f586c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfee4d064336acca4f2b2ac017db1f13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structref__entry.html">ref_entry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#acfee4d064336acca4f2b2ac017db1f13">cram_ref_load</a> (<a class="el" href="structrefs__t.html">refs_t</a> *r, int id)</td></tr>
<tr class="separator:acfee4d064336acca4f2b2ac017db1f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b02f18351c1d4293007cf7626dc0550"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a5b02f18351c1d4293007cf7626dc0550">cram_get_ref</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, int id, int start, int end)</td></tr>
<tr class="separator:a5b02f18351c1d4293007cf7626dc0550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f171e067351904e24aedd95c083ee39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a9f171e067351904e24aedd95c083ee39">cram_load_reference</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, char *fn)</td></tr>
<tr class="separator:a9f171e067351904e24aedd95c083ee39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06e09102ee415de9070bfea9c366eb41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcram__container.html">cram_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a06e09102ee415de9070bfea9c366eb41">cram_new_container</a> (int nrec, int nslice)</td></tr>
<tr class="separator:a06e09102ee415de9070bfea9c366eb41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc2fb2a88d13b6c6bbcce528491307d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#abc2fb2a88d13b6c6bbcce528491307d5">cram_free_container</a> (<a class="el" href="structcram__container.html">cram_container</a> *c)</td></tr>
<tr class="separator:abc2fb2a88d13b6c6bbcce528491307d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad00f125e50a98b9b0d8f0396722bf6d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcram__container.html">cram_container</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ad00f125e50a98b9b0d8f0396722bf6d7">cram_read_container</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd)</td></tr>
<tr class="separator:ad00f125e50a98b9b0d8f0396722bf6d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f90ebf5c3fb3de3c748953cbd25ff6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ac4f90ebf5c3fb3de3c748953cbd25ff6">cram_write_container</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, <a class="el" href="structcram__container.html">cram_container</a> *c)</td></tr>
<tr class="separator:ac4f90ebf5c3fb3de3c748953cbd25ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a198b28628bc99ef912564e1cb3e461d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a198b28628bc99ef912564e1cb3e461d9">cram_flush_container</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, <a class="el" href="structcram__container.html">cram_container</a> *c)</td></tr>
<tr class="separator:a198b28628bc99ef912564e1cb3e461d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e43764f15b2afc2aea916d36eb05d90"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a5e43764f15b2afc2aea916d36eb05d90">cram_flush_thread</a> (void *arg)</td></tr>
<tr class="separator:a5e43764f15b2afc2aea916d36eb05d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa8df41e0588024a02a53008b4af4ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a1fa8df41e0588024a02a53008b4af4ab">cram_flush_container_mt</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, <a class="el" href="structcram__container.html">cram_container</a> *c)</td></tr>
<tr class="separator:a1fa8df41e0588024a02a53008b4af4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac441453571a04702576ae5c3f850f18c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcram__block__compression__hdr.html">cram_block_compression_hdr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ac441453571a04702576ae5c3f850f18c">cram_new_compression_header</a> (void)</td></tr>
<tr class="separator:ac441453571a04702576ae5c3f850f18c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db22fe55d7bc3e5473359525c2ae931"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a9db22fe55d7bc3e5473359525c2ae931">cram_free_compression_header</a> (<a class="el" href="structcram__block__compression__hdr.html">cram_block_compression_hdr</a> *hdr)</td></tr>
<tr class="separator:a9db22fe55d7bc3e5473359525c2ae931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accbece63eac002ca53029642aa784cf5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#accbece63eac002ca53029642aa784cf5">cram_free_slice_header</a> (<a class="el" href="structcram__block__slice__hdr.html">cram_block_slice_hdr</a> *hdr)</td></tr>
<tr class="separator:accbece63eac002ca53029642aa784cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1f3d2843efd369013b2e28674af05e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a0a1f3d2843efd369013b2e28674af05e">cram_free_slice</a> (<a class="el" href="structcram__slice.html">cram_slice</a> *s)</td></tr>
<tr class="separator:a0a1f3d2843efd369013b2e28674af05e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a700adca4f9e4478348fc84f53639eda4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcram__slice.html">cram_slice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a700adca4f9e4478348fc84f53639eda4">cram_new_slice</a> (enum <a class="el" href="cram__structs_8h.html#af9934fb23b7763e058c4dfb074ce9a49">cram_content_type</a> type, int nrecs)</td></tr>
<tr class="separator:a700adca4f9e4478348fc84f53639eda4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd43a2704620acdcd429683bb8c64dad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcram__slice.html">cram_slice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#abd43a2704620acdcd429683bb8c64dad">cram_read_slice</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd)</td></tr>
<tr class="separator:abd43a2704620acdcd429683bb8c64dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad7ed7f5bcb7c8eb65a4807e052484c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcram__file__def.html">cram_file_def</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#aad7ed7f5bcb7c8eb65a4807e052484c9">cram_read_file_def</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd)</td></tr>
<tr class="separator:aad7ed7f5bcb7c8eb65a4807e052484c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f78aad92ffa2f231cf15f329597f9b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a3f78aad92ffa2f231cf15f329597f9b3">cram_write_file_def</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, <a class="el" href="structcram__file__def.html">cram_file_def</a> *def)</td></tr>
<tr class="separator:a3f78aad92ffa2f231cf15f329597f9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0da97666adb047e9d1c2543c92345210"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a0da97666adb047e9d1c2543c92345210">cram_free_file_def</a> (<a class="el" href="structcram__file__def.html">cram_file_def</a> *def)</td></tr>
<tr class="separator:a0da97666adb047e9d1c2543c92345210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1610e1b285d6a648a76256854c5381f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s_a_m__hdr.html">SAM_hdr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ae1610e1b285d6a648a76256854c5381f">cram_read_SAM_hdr</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd)</td></tr>
<tr class="separator:ae1610e1b285d6a648a76256854c5381f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa623411a09dc516cd3de57940c6bb34b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#aa623411a09dc516cd3de57940c6bb34b">cram_write_SAM_hdr</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, <a class="el" href="struct_s_a_m__hdr.html">SAM_hdr</a> *hdr)</td></tr>
<tr class="separator:aa623411a09dc516cd3de57940c6bb34b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4185c705fea977b95d30cda4af0c00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a2a4185c705fea977b95d30cda4af0c00">cram_open</a> (const char *filename, const char *<a class="el" href="htsfile_8c.html#abc602f962597251d3e57cf3ea95ab19e">mode</a>)</td></tr>
<tr class="separator:a2a4185c705fea977b95d30cda4af0c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d00e997b67d7e897d3aaa07e645d3f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a5d00e997b67d7e897d3aaa07e645d3f3">cram_dopen</a> (<a class="el" href="structh_f_i_l_e.html">hFILE</a> *fp, const char *filename, const char *<a class="el" href="htsfile_8c.html#abc602f962597251d3e57cf3ea95ab19e">mode</a>)</td></tr>
<tr class="separator:a5d00e997b67d7e897d3aaa07e645d3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d98cc1407c6b54c3dc3285cd05bbe5e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a0d98cc1407c6b54c3dc3285cd05bbe5e">cram_seek</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, off_t offset, int whence)</td></tr>
<tr class="separator:a0d98cc1407c6b54c3dc3285cd05bbe5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8978b88184e9d8d198488dfcc30106ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a8978b88184e9d8d198488dfcc30106ee">cram_flush</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd)</td></tr>
<tr class="separator:a8978b88184e9d8d198488dfcc30106ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded9e05bcd2dffb399f376079ab48693"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#aded9e05bcd2dffb399f376079ab48693">cram_close</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd)</td></tr>
<tr class="separator:aded9e05bcd2dffb399f376079ab48693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d7f99d5087414826c4d28f1a5f69a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#a37d7f99d5087414826c4d28f1a5f69a5">cram_eof</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd)</td></tr>
<tr class="separator:a37d7f99d5087414826c4d28f1a5f69a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1dee1b6de5f6a318b3fa89b6c66f984"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ae1dee1b6de5f6a318b3fa89b6c66f984">cram_set_option</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, enum <a class="el" href="hts_8h.html#a1d696a356430013cc14a2ba5cda07220">cram_option</a> opt,...)</td></tr>
<tr class="separator:ae1dee1b6de5f6a318b3fa89b6c66f984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86e8e0e00cd1b0beffddf5fe62bc4e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cram__io_8c.html#ad86e8e0e00cd1b0beffddf5fe62bc4e0">cram_set_voption</a> (<a class="el" href="structcram__fd.html">cram_fd</a> *fd, enum <a class="el" href="hts_8h.html#a1d696a356430013cc14a2ba5cda07220">cram_option</a> opt, va_list args)</td></tr>
<tr class="separator:ad86e8e0e00cd1b0beffddf5fe62bc4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a5cbe1f7d4536ef1fe57e651bc838711a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXDELTA&#160;&#160;&#160;0.20</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac0bb9ca63a6752bd398704cb88858b93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXFAILS&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad61316f7187ce8b24a8fd76573211059"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NTRIALS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ade423c8316442ec11ced1e141ba21a69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a80c8052986bc451bfce05baa413f3827"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRIAL_SPAN&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0389b197b6549510506f2ba76a5a6563"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* cram_block_method2str </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="cram__structs_8h.html#aaba757c9ea23fabb284dc002713c30a5">cram_block_method</a>&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aded9e05bcd2dffb399f376079ab48693"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes a CRAM file.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="af860093c9bc436c3ce234151bcf96fd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_compress_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcram__block.html">cram_block</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcram__metrics.html">cram_metrics</a> *&#160;</td>
          <td class="paramname"><em>metrics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compresses a block.</p>
<p>Compresses a block using one of two different zlib strategies. If we only want one choice set strat2 to be -1.</p>
<p>The logic here is that sometimes Z_RLE does a better job than Z_FILTERED or Z_DEFAULT_STRATEGY on quality data. If so, we'd rather use it as it is significantly faster.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a55bc783cebc6cfaacb2d11d91f5e27e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* cram_content_type2str </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="cram__structs_8h.html#af9934fb23b7763e058c4dfb074ce9a49">cram_content_type</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5d00e997b67d7e897d3aaa07e645d3f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcram__fd.html">cram_fd</a>* cram_dopen </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structh_f_i_l_e.html">hFILE</a> *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens an existing stream for reading or writing.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns file handle on success; NULL on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a37d7f99d5087414826c4d28f1a5f69a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_eof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks for end of file on a <a class="el" href="structcram__fd.html">cram_fd</a> stream.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if not at end of file 1 if we hit an expected EOF (end of range or EOF block) 2 for other EOF (end of stream without EOF block) </dd></dl>

</div>
</div>
<a class="anchor" id="a8978b88184e9d8d198488dfcc30106ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a198b28628bc99ef912564e1cb3e461d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_flush_container </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcram__container.html">cram_container</a> *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flushes a container to disk.</p>
<p>Flushes a completely or partially full container to disk, writing container structure, header and blocks. This also calls the encoder functions.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a1fa8df41e0588024a02a53008b4af4ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_flush_container_mt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcram__container.html">cram_container</a> *&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5e43764f15b2afc2aea916d36eb05d90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* cram_flush_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a657954e6b3bd06bc9d75a060ac61d44a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cram_free_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__block.html">cram_block</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees a CRAM block, deallocating internal data too. </p>

</div>
</div>
<a class="anchor" id="a9db22fe55d7bc3e5473359525c2ae931"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cram_free_compression_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__block__compression__hdr.html">cram_block_compression_hdr</a> *&#160;</td>
          <td class="paramname"><em>hdr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees a <a class="el" href="structcram__block__compression__hdr.html">cram_block_compression_hdr</a> </p>

</div>
</div>
<a class="anchor" id="abc2fb2a88d13b6c6bbcce528491307d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cram_free_container </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__container.html">cram_container</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0da97666adb047e9d1c2543c92345210"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cram_free_file_def </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__file__def.html">cram_file_def</a> *&#160;</td>
          <td class="paramname"><em>def</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees a <a class="el" href="structcram__file__def.html">cram_file_def</a> structure. </p>

</div>
</div>
<a class="anchor" id="a0a1f3d2843efd369013b2e28674af05e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cram_free_slice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__slice.html">cram_slice</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees a slice </p>

</div>
</div>
<a class="anchor" id="accbece63eac002ca53029642aa784cf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cram_free_slice_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__block__slice__hdr.html">cram_block_slice_hdr</a> *&#160;</td>
          <td class="paramname"><em>hdr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Slices and slice headers</p>
<p>Frees a slice header </p>

</div>
</div>
<a class="anchor" id="a5b02f18351c1d4293007cf7626dc0550"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* cram_get_ref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a portion of a reference sequence from start to end inclusive.</p>
<p>The returned pointer is owned by the cram_file fd and should not be freed by the caller. It is valid only until the next cram_get_ref is called with the same fd parameter (so is thread-safe if given multiple files).</p>
<p>To return the entire reference sequence, specify start as 1 and end as 0.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns reference on success; NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a9f171e067351904e24aedd95c083ee39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_load_reference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Reference sequence handling</p>
<p>Loads a reference set from fn and stores in the <a class="el" href="structcram__fd.html">cram_fd</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a991dcfd8577ade942c778b3c4ab6c34e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcram__block.html">cram_block</a>* cram_new_block </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="cram__structs_8h.html#af9934fb23b7763e058c4dfb074ce9a49">cram_content_type</a>&#160;</td>
          <td class="paramname"><em>content_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>content_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> CRAM blocks - the dynamically growable data block. We have code to create, update, (un)compress and read/write.</p>
<p>These are derived from the deflate_interlaced.c blocks, but with the CRAM extension of content types and IDs.</p>
<p>Allocates a new <a class="el" href="structcram__block.html">cram_block</a> structure with a specified content_type and id.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns block pointer on success; NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ac441453571a04702576ae5c3f850f18c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcram__block__compression__hdr.html">cram_block_compression_hdr</a>* cram_new_compression_header </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Compression headers; the first part of the container</p>
<p>Creates a new blank container compression header</p>
<dl class="section return"><dt>Returns</dt><dd>Returns header ptr on success; NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a06e09102ee415de9070bfea9c366eb41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcram__container.html">cram_container</a>* cram_new_container </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nslice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> Containers</p>
<p>Creates a new container, specifying the maximum number of slices and records permitted.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="structcram__container.html">cram_container</a> ptr on success; NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="aa780a4c38f5e0335659b4facd24b5731"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcram__metrics.html">cram_metrics</a>* cram_new_metrics </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a700adca4f9e4478348fc84f53639eda4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcram__slice.html">cram_slice</a>* cram_new_slice </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="cram__structs_8h.html#af9934fb23b7763e058c4dfb074ce9a49">cram_content_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrecs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new empty slice in memory, for subsequent writing to disk.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="structcram__slice.html">cram_slice</a> ptr on success; NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a2a4185c705fea977b95d30cda4af0c00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcram__fd.html">cram_fd</a>* cram_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> The top-level cram opening, closing and option handling</p>
<p>Opens a CRAM file for read (mode "rb") or write ("wb").</p>
<p>The filename may be "-" to indicate stdin or stdout.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns file handle on success; NULL on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="a94c5bed4f46422941984ff9fd1df735c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcram__block.html">cram_block</a>* cram_read_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a block from a cram file.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="structcram__block.html">cram_block</a> pointer on success; NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ad00f125e50a98b9b0d8f0396722bf6d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcram__container.html">cram_container</a>* cram_read_container </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a container header.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="structcram__container.html">cram_container</a> on success; NULL on failure or no container left (fd-&gt;err == 0). </dd></dl>

</div>
</div>
<a class="anchor" id="aad7ed7f5bcb7c8eb65a4807e052484c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcram__file__def.html">cram_file_def</a>* cram_read_file_def </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> CRAM file definition (header)</p>
<p>Reads a CRAM file definition structure.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns file_def ptr on success; NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ae1610e1b285d6a648a76256854c5381f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s_a_m__hdr.html">SAM_hdr</a>* cram_read_SAM_hdr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<p> SAM header I/O</p>
<p>Reads the SAM header from the first CRAM data block.</p>
<p>Also performs minimal parsing to extract read-group and sample information.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns SAM hdr ptr on success; NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="abd43a2704620acdcd429683bb8c64dad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcram__slice.html">cram_slice</a>* cram_read_slice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads an entire slice.</p>
<p>FIXME: In 1.0 the native unit of slices within CRAM is broken as slices contain references to objects in other slices. To work around this while keeping the slice oriented outer loop we read all slices and stitch them together into a fake large slice instead.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="structcram__slice.html">cram_slice</a> ptr on success; NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="af118c72c7b38f478a2cd13e591f586c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cram_ref_decr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrefs__t.html">refs_t</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a135248706e994f9ae382903f2d5b8bfa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cram_ref_incr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrefs__t.html">refs_t</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acfee4d064336acca4f2b2ac017db1f13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structref__entry.html">ref_entry</a>* cram_ref_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrefs__t.html">refs_t</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0d98cc1407c6b54c3dc3285cd05bbe5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_seek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>whence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5982b7b402e0d135c90a1b9a1a628824"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_set_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_a_m__hdr.html">SAM_hdr</a> *&#160;</td>
          <td class="paramname"><em>hdr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attaches a header to a <a class="el" href="structcram__fd.html">cram_fd</a>.</p>
<p>This should be used when creating a new <a class="el" href="structcram__fd.html">cram_fd</a> for writing where we have an <a class="el" href="struct_s_a_m__hdr.html">SAM_hdr</a> already constructed (eg from a file we've read in).</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ae1dee1b6de5f6a318b3fa89b6c66f984"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_set_option </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="hts_8h.html#a1d696a356430013cc14a2ba5cda07220">cram_option</a>&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets options on the <a class="el" href="structcram__fd.html">cram_fd</a>.</p>
<p>See CRAM_OPT_* definitions in <a class="el" href="cram__structs_8h.html">cram_structs.h</a>. Use this immediately after opening.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ad86e8e0e00cd1b0beffddf5fe62bc4e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_set_voption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="hts_8h.html#a1d696a356430013cc14a2ba5cda07220">cram_option</a>&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets options on the <a class="el" href="structcram__fd.html">cram_fd</a>.</p>
<p>See CRAM_OPT_* definitions in <a class="el" href="cram__structs_8h.html">cram_structs.h</a>. Use this immediately after opening.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a6ea795b61f37415c5f4477843310612f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_uncompress_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__block.html">cram_block</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uncompresses a CRAM block, if compressed.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="af6df1c159f4f6d1e80683c5dd4240b35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_write_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcram__block.html">cram_block</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a CRAM block.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ac4f90ebf5c3fb3de3c748953cbd25ff6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_write_container </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcram__container.html">cram_container</a> *&#160;</td>
          <td class="paramname"><em>h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a container structure.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a3f78aad92ffa2f231cf15f329597f9b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_write_file_def </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcram__file__def.html">cram_file_def</a> *&#160;</td>
          <td class="paramname"><em>def</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a <a class="el" href="structcram__file__def.html">cram_file_def</a> structure to <a class="el" href="structcram__fd.html">cram_fd</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="aa623411a09dc516cd3de57940c6bb34b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cram_write_SAM_hdr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_a_m__hdr.html">SAM_hdr</a> *&#160;</td>
          <td class="paramname"><em>hdr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a CRAM SAM header.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="add486b2211839e9992bf06d7f4d87f34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void expand_cache_path </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aab139c7a3268d12d967f17cdca3a5a46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int int32_decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="affef6927703207550982a19eae7385a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int int32_encode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afbd62fcbc8ab5dbc468802efca76bbc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int int32_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__block.html">cram_block</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0a70b5ded18023f37280f05ee7655d01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int int32_put </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__block.html">cram_block</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="adfb0b3e6915d4831d8b2ca006c23f126"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int itf8_decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads an integer in ITF-8 encoding from 'fd' and stores it in *val.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of bytes read on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a9e1723252782e3bf3ebbc99b31e924c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int itf8_encode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a886b8afd0c9e847aaa7e446c6dae52df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int itf8_get </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>val_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a215275f39aae22569862786a007a2be0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int itf8_put </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac01438e9f3ed29695c71ba9f1e0cfa8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int itf8_put_blk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__block.html">cram_block</a> *&#160;</td>
          <td class="paramname"><em>blk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pushes a value in ITF8 format onto the end of a block.</p>
<p>This shouldn't be used for high-volume data as it is not the fastest method.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of bytes written </dd></dl>

</div>
</div>
<a class="anchor" id="a6f924b4a38c76b8c6e9d237aec9f2888"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ltf8_decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcram__fd.html">cram_fd</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>val_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a95297d3a08a82a85c4347559e850ecd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ltf8_get </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>val_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a17a0656c0639fdd36a26c64849c28c21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ltf8_put </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a247f19be0a6731622bcc2663df06bac8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mkdir_prefix </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a82102833acf0b63cb577ea4add95528e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int paranoid_fclose </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad62ee450679d58544610b24cb8b4d516"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int refs2id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrefs__t.html">refs_t</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_a_m__hdr.html">SAM_hdr</a> *&#160;</td>
          <td class="paramname"><em>bfd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generates a lookup table in refs based on the SQ headers in <a class="el" href="struct_s_a_m__hdr.html">SAM_hdr</a>.</p>
<p>Indexes references by the order they appear in a BAM file. This may not necessarily be the same order they appear in the fasta reference file.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a42e7297234bf3d8d2b0041b049bc3876"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void refs_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrefs__t.html">refs_t</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae7fb83979cfbb2ed1da599a97276f078"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* zlib_mem_inflate </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>cdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>csize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uncompress a memory block using Zlib.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success; -1 on failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 7 2014 19:10:55 for Gamgee by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
